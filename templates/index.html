{% extends "base.html" %}

{% block title %}Welcome to Campus2Career{% endblock %}

{% block content %}
<div class="jumbotron text-center">
    <h1>Welcome to Campus2Career</h1>
    <p>Connect, Learn, and Grow with your Campus Community</p>
    {% if not current_user.is_authenticated %}
        <p>
            <a href="{{ url_for('login') }}" class="btn btn-primary btn-lg">Login</a>
            <a href="{{ url_for('signup') }}" class="btn btn-success btn-lg">Sign Up</a>
        </p>
    {% endif %}
</div>

<div class="row">
    <!-- Recent Questions Section -->
    <div class="col-md-8">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Recent Questions</h3>
            </div>
            <div class="panel-body">
                {% if questions %}
                    {% for question in questions %}
                        <div class="card question-card">
                            <h4><a href="{{ url_for('question_detail', id=question.id) }}">{{ question.title }}</a></h4>
                            <p class="text-muted">
                                Posted by {{ question.author.username }} on {{ question.created_at.strftime('%B %d, %Y') }}
                            </p>
                            <p>{{ question.content[:200] }}{% if question.content|length > 200 %}...{% endif %}</p>
                            <div class="text-muted">
                                <small>{{ question.answers|length }} answers</small>
                            </div>
                        </div>
                    {% endfor %}
                    <div class="text-right">
                        <a href="{{ url_for('questions') }}" class="btn btn-default">View All Questions</a>
                    </div>
                {% else %}
                    <p class="text-center">No questions yet. 
                        {% if current_user.is_authenticated %}
                            <a href="{{ url_for('questions') }}">Be the first to ask!</a>
                        {% else %}
                            <a href="{{ url_for('login') }}">Login to ask a question!</a>
                        {% endif %}
                    </p>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- Upcoming Events Section -->
    <div class="col-md-4">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Upcoming Events</h3>
            </div>
            <div class="panel-body">
                {% if events %}
                    {% for event in events %}
                        <div class="card event-card">
                            <h4>{{ event.title }}</h4>
                            <p class="text-muted">
                                <i class="fas fa-calendar"></i> {{ event.date.strftime('%B %d, %Y') }}
                            </p>
                            <p>{{ event.description[:100] }}{% if event.description|length > 100 %}...{% endif %}</p>
                        </div>
                    {% endfor %}
                    <div class="text-right">
                        <a href="{{ url_for('events') }}" class="btn btn-default">View All Events</a>
                    </div>
                {% else %}
                    <p class="text-center">No upcoming events.</p>
                {% endif %}
            </div>
        </div>

        <!-- Quick Links -->
        <div class="panel panel-default">
            <div class="panel-heading">
                <h3 class="panel-title">Quick Links</h3>
            </div>
            <div class="panel-body">
                <ul class="list-group">
                    <li class="list-group-item">
                        <i class="fas fa-question-circle"></i>
                        <a href="{{ url_for('questions') }}">Discussion Forum</a>
                    </li>
                    <li class="list-group-item">
                        <i class="fas fa-calendar-alt"></i>
                        <a href="{{ url_for('events') }}">Events Calendar</a>
                    </li>
                    {% if current_user.is_authenticated %}
                        <li class="list-group-item">
                            <i class="fas fa-user"></i>
                            <a href="{{ url_for('dashboard') }}">My Dashboard</a>
                        </li>
                    {% endif %}
                </ul>
            </div>
        </div>
    </div>
</div>

<style>
.jumbotron {
    background-color: #f8f9fa;
    padding: 40px;
    margin-bottom: 30px;
    border-radius: 8px;
}

.question-card {
    margin-bottom: 20px;
    padding: 15px;
}

.event-card {
    margin-bottom: 15px;
    padding: 10px;
}

.panel {
    margin-bottom: 30px;
}

.list-group-item i {
    margin-right: 10px;
    color: #666;
}

.card h4 {
    margin-top: 0;
}

.text-muted {
    font-size: 0.9em;
}
</style>
{% endblock %}
